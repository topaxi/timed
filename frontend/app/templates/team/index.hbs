<h1>Teams</h1>

<table class="table">
  <colgroup>
    <col>
    <col class="table-button-col">
    <col class="table-button-col">
  </colgroup>
  <thead>
    <tr>
      <th>Name</th>
      <th>Members</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {{#each pagedModels as |team|}}
      <tr>
        <td>
          <div class="dib" data-model-id={{team.id}}>
            {{#link-to 'team.edit' team}}{{team.name}}{{/link-to}}
          </div>
        </td>
        <td class="tar">
          {{! Don't request all users, if this breaks, blame me and this guy
            ! https://github.com/emberjs/data/issues/586#issuecomment-39774122
            !}}
          {{team._data.users.length}}
        </td>
        <td>
          {{#link-to 'team.edit.manage' team tagName='button' class='btn btn-default tip' title='Manage team'}}
            <span class="fa fa-tasks"></span>
          {{/link-to}}
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>

{{#if showPager}}
  {{pagination-pager current=page count=totalPages}}
{{/if}}
